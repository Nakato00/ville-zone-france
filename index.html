<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Zone géographique d'une ville en France</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 500px;
      margin: 40px auto;
      padding: 0 20px;
      background: #f0f0f0;
      border-radius: 8px;
    }
    input, button {
      font-size: 1rem;
      padding: 8px;
      margin-right: 10px;
    }
    #resultat {
      margin-top: 20px;
      font-weight: bold;
      font-size: 1.2rem;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>Quelle zone pour votre ville ?</h1>
  <input id="villeInput" type="text" placeholder="Entrez une ville française" />
  <button id="btnVoirZone">Voir la zone</button>
  <p id="resultat"></p>

  <script>
    const zones = {
      "lille": "Nord",
      "roubaix": "Nord",
      "tourcoing": "Nord",
      "valenciennes": "Nord",
      "dunkerque": "Nord",
      "amiens": "Nord",
      "reims": "Nord",
      "metz": "Nord",
      "strasbourg": "Nord",
      "nancy": "Nord",

      "marseille": "Sud",
      "toulouse": "Sud",
      "nice": "Sud",
      "montpellier": "Sud",
      "nimes": "Sud",
      "perpignan": "Sud",
      "avignon": "Sud",
      "bastia": "Sud",
      "ajaccio": "Sud",
      "bayonne": "Sud",

      "strasbourg": "Est",
      "metz": "Est",
      "nancy": "Est",
      "besancon": "Est",
      "mulhouse": "Est",
      "colmar": "Est",

      "nantes": "Ouest",
      "rennes": "Ouest",
      "Saint Malo": "Ouest",
      "caen": "Ouest",
      "le mans": "Ouest",
      "angers": "Ouest",
      "brest": "Ouest",
      "quimper": "Ouest",

      "paris": "Centre",
      "orleans": "Centre",
      "chartres": "Centre",
      "bourges": "Centre",
      "clermont-ferrand": "Centre",
      "dijon": "Centre",
      "auxerre": "Centre",
      "chateauroux": "Centre",
      "nevers": "Centre",

      "bordeaux": "Sud-Ouest",
      "pau": "Sud-Ouest",
      "agen": "Sud-Ouest",
      "tarbes": "Sud-Ouest",
      "toulon": "Sud-Est",

      "lyon": "Sud-Est",
      "grenoble": "Sud-Est",
      "annecy": "Sud-Est",
      "valence": "Sud-Est",
      "chambery": "Sud-Est"
    };

    function nettoyerNom(ville) {
      return ville
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-zA-Z\s]/g, "")
        .toLowerCase()
        .trim();
    }

    function trouverZone() {
      const villeInput = document.getElementById("villeInput");
      const resultat = document.getElementById("resultat");
      const ville = nettoyerNom(villeInput.value);

      if (!ville) {
        resultat.textContent = "Veuillez entrer le nom d'une ville.";
        return;
      }

      if (zones[ville]) {
        resultat.textContent = `La ville de ${capitalize(ville)} est dans la zone : ${zones[ville]}.`;
      } else {
        resultat.textContent = "Ville non reconnue. Essaie une ville principale.";
      }
    }

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    // Écoute le clic sur le bouton
    document.getElementById("btnVoirZone").addEventListener("click", trouverZone);

    // Écoute la touche "Entrée" dans le champ input
    document.getElementById("villeInput").addEventListener("keydown", function(event) {
      if (event.key === "Enter") {
        trouverZone();
      }
    });
  </script>
</body>
</html>
